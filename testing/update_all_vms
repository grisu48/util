#!/bin/bash
# Bash script to update all of my virtual machines

export LIBVIRT_DEFAULT_URI=qemu:///system

# Absolute path to the `update_vm` script (required to be executable)
BIN="/root/bin/update_vm"

# Update virtual machines, one after each other
$BIN "leap15_1" "zypper ref && zypper patch -y"
$BIN "leap15_2" "zypper ref && zypper patch -y"
$BIN "sle15sp1" "zypper ref && zypper patch -y"
$BIN "sle15sp2" "zypper ref && zypper patch -y"
$BIN "tumbleweed" "zypper ref && zypper dup -y"